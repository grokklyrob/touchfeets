{"version":3,"sources":["turbopack:///[project]/components/PricingTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\ntype Plan = {\n  slug: \"basic\" | \"plus\" | \"pro\";\n  name: string;\n  priceLabel: string;\n  quota: string;\n  features: string[];\n};\n\nconst plans: Plan[] = [\n  {\n    slug: \"basic\",\n    name: \"Basic\",\n    priceLabel: \"$2 / mo\",\n    quota: \"50 generations / month\",\n    features: [\"50/mo generations\", \"Full-res downloads\", \"No visible watermark\"],\n  },\n  {\n    slug: \"plus\",\n    name: \"Plus\",\n    priceLabel: \"$5 / mo\",\n    quota: \"200 generations / month\",\n    features: [\"200/mo generations\", \"Full-res downloads\", \"No visible watermark\", \"Priority queue\"],\n  },\n  {\n    slug: \"pro\",\n    name: \"Pro\",\n    priceLabel: \"$10 / mo\",\n    quota: \"1,000 generations / month\",\n    features: [\"1,000/mo generations\", \"Full-res downloads\", \"No visible watermark\", \"Priority queue\", \"Early access styles\"],\n  },\n];\n\nexport default function PricingTable() {\n  const [loadingPlan, setLoadingPlan] = useState<string | null>(null);\n\n  const handleCheckout = async (plan: Plan) => {\n    try {\n      setLoadingPlan(plan.name);\n      const res = await fetch(\"/api/stripe/create-checkout\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ plan: plan.slug }),\n      });\n      if (!res.ok) {\n        const txt = await res.text();\n        throw new Error(`Checkout failed: ${txt}`);\n      }\n      const { url } = (await res.json()) as { url: string };\n      if (url) window.location.href = url;\n    } catch (err: unknown) {\n      console.error(err);\n      alert(err instanceof Error ? err.message : \"Failed to start checkout\");\n    } finally {\n      setLoadingPlan(null);\n    }\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {plans.map((p) => (\n        <div key={p.slug} className=\"card p-6 flex flex-col justify-between\">\n          <div>\n            <h3 className=\"text-xl font-semibold\">{p.name}</h3>\n            <p className=\"mt-2 text-2xl neon-crimson\">{p.priceLabel}</p>\n            <p className=\"mt-1 text-sm text-[var(--color-muted)]\">{p.quota}</p>\n            <ul className=\"mt-4 space-y-2 text-sm\">\n              {p.features.map((f) => (\n                <li key={f} className=\"flex items-center gap-2\">\n                  <span className=\"text-[var(--color-accent)]\">âœš</span>\n                  <span>{f}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <button\n            onClick={() => handleCheckout(p)}\n            disabled={loadingPlan !== null}\n            className=\"btn-accent mt-6 px-5 py-3 font-semibold disabled:opacity-60\"\n          >\n            {loadingPlan === p.name ? \"Redirecting...\" : \"Subscribe\"}\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OAUA,IAAM,EAAgB,CACpB,CACE,KAAM,QACN,KAAM,QACN,WAAY,UACZ,MAAO,yBACP,SAAU,CAAC,oBAAqB,qBAAsB,uBAAuB,AAC/E,EACA,CACE,KAAM,OACN,KAAM,OACN,WAAY,UACZ,MAAO,0BACP,SAAU,CAAC,qBAAsB,qBAAsB,uBAAwB,iBAAiB,AAClG,EACA,CACE,KAAM,MACN,KAAM,MACN,WAAY,WACZ,MAAO,4BACP,SAAU,CAAC,uBAAwB,qBAAsB,uBAAwB,iBAAkB,sBACrG,AAD2H,EAE5H,CAEc,SAAS,IACtB,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAExD,EAAiB,MAAO,IAC5B,GAAI,CACF,EAAe,EAAK,IAAI,EACxB,IAAM,EAAM,MAAM,MAAM,8BAA+B,CACrD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAE,KAAM,EAAK,IAAI,AAAC,EACzC,GACA,GAAI,CAAC,EAAI,EAAE,CAAE,CACX,IAAM,EAAM,MAAM,EAAI,IAAI,EAC1B,OAAM,AAAI,MAAM,CAAC,iBAAiB,EAAE,EAAA,CAAK,CAC3C,CACA,GAAM,KAAE,CAAG,CAAE,CAAI,MAAM,EAAI,IAAI,GAC3B,IAAK,OAAO,QAAQ,CAAC,IAAI,CAAG,CAAA,CAClC,CAAE,MAAO,EAAc,CACrB,QAAQ,KAAK,CAAC,GACd,MAAM,aAAe,MAAQ,EAAI,OAAO,CAAG,2BAC7C,QAAU,CACR,EAAe,KACjB,CACF,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAM,GAAG,CAAE,AAAD,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAiB,UAAU,mDAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAyB,EAAE,IAAI,GAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAE,UAAU,GACvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAA0C,EAAE,KAAK,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCACX,EAAE,QAAQ,CAAC,GAAG,CAAE,AAAD,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAW,UAAU,oCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sCAA6B,MAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,MAFA,SAOf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAe,GAC9B,SAAU,AAAgB,SAC1B,UAAU,uEAET,IAAgB,EAAE,IAAI,CAAG,iBAAmB,gBAnBvC,EAAE,IAAI,IAyBxB"}