{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/robertstevens/Touchfeets/web/components/PricingTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\ntype Plan = {\n  slug: \"basic\" | \"plus\" | \"pro\";\n  name: string;\n  priceLabel: string;\n  quota: string;\n  features: string[];\n};\n\nconst plans: Plan[] = [\n  {\n    slug: \"basic\",\n    name: \"Basic\",\n    priceLabel: \"$2 / mo\",\n    quota: \"50 generations / month\",\n    features: [\"50/mo generations\", \"Full-res downloads\", \"No visible watermark\"],\n  },\n  {\n    slug: \"plus\",\n    name: \"Plus\",\n    priceLabel: \"$5 / mo\",\n    quota: \"200 generations / month\",\n    features: [\"200/mo generations\", \"Full-res downloads\", \"No visible watermark\", \"Priority queue\"],\n  },\n  {\n    slug: \"pro\",\n    name: \"Pro\",\n    priceLabel: \"$10 / mo\",\n    quota: \"1,000 generations / month\",\n    features: [\"1,000/mo generations\", \"Full-res downloads\", \"No visible watermark\", \"Priority queue\", \"Early access styles\"],\n  },\n];\n\nexport default function PricingTable() {\n  const [loadingPlan, setLoadingPlan] = useState<string | null>(null);\n\n  const handleCheckout = async (plan: Plan) => {\n    try {\n      setLoadingPlan(plan.name);\n      const res = await fetch(\"/api/stripe/create-checkout\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ plan: plan.slug }),\n      });\n      if (!res.ok) {\n        const txt = await res.text();\n        throw new Error(`Checkout failed: ${txt}`);\n      }\n      const { url } = (await res.json()) as { url: string };\n      if (url) window.location.href = url;\n    } catch (err: any) {\n      console.error(err);\n      alert(err?.message ?? \"Failed to start checkout\");\n    } finally {\n      setLoadingPlan(null);\n    }\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {plans.map((p) => (\n        <div key={p.slug} className=\"card p-6 flex flex-col justify-between\">\n          <div>\n            <h3 className=\"text-xl font-semibold\">{p.name}</h3>\n            <p className=\"mt-2 text-2xl neon-crimson\">{p.priceLabel}</p>\n            <p className=\"mt-1 text-sm text-[var(--color-muted)]\">{p.quota}</p>\n            <ul className=\"mt-4 space-y-2 text-sm\">\n              {p.features.map((f) => (\n                <li key={f} className=\"flex items-center gap-2\">\n                  <span className=\"text-[var(--color-accent)]\">âœš</span>\n                  <span>{f}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <button\n            onClick={() => handleCheckout(p)}\n            disabled={loadingPlan !== null}\n            className=\"btn-accent mt-6 px-5 py-3 font-semibold disabled:opacity-60\"\n          >\n            {loadingPlan === p.name ? \"Redirecting...\" : \"Subscribe\"}\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYA,MAAM,QAAgB;IACpB;QACE,MAAM;QACN,MAAM;QACN,YAAY;QACZ,OAAO;QACP,UAAU;YAAC;YAAqB;YAAsB;SAAuB;IAC/E;IACA;QACE,MAAM;QACN,MAAM;QACN,YAAY;QACZ,OAAO;QACP,UAAU;YAAC;YAAsB;YAAsB;YAAwB;SAAiB;IAClG;IACA;QACE,MAAM;QACN,MAAM;QACN,YAAY;QACZ,OAAO;QACP,UAAU;YAAC;YAAwB;YAAsB;YAAwB;YAAkB;SAAsB;IAC3H;CACD;AAEc,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAE9D,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,eAAe,KAAK,IAAI;YACxB,MAAM,MAAM,MAAM,MAAM,+BAA+B;gBACrD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,MAAM,KAAK,IAAI;gBAAC;YACzC;YACA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,MAAM,MAAM,IAAI,IAAI;gBAC1B,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,KAAK;YAC3C;YACA,MAAM,EAAE,GAAG,EAAE,GAAI,MAAM,IAAI,IAAI;YAC/B,IAAI,KAAK,OAAO,QAAQ,CAAC,IAAI,GAAG;QAClC,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC;YACd,MAAM,KAAK,WAAW;QACxB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;gBAAiB,WAAU;;kCAC1B,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAyB,EAAE,IAAI;;;;;;0CAC7C,8OAAC;gCAAE,WAAU;0CAA8B,EAAE,UAAU;;;;;;0CACvD,8OAAC;gCAAE,WAAU;0CAA0C,EAAE,KAAK;;;;;;0CAC9D,8OAAC;gCAAG,WAAU;0CACX,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,kBACf,8OAAC;wCAAW,WAAU;;0DACpB,8OAAC;gDAAK,WAAU;0DAA6B;;;;;;0DAC7C,8OAAC;0DAAM;;;;;;;uCAFA;;;;;;;;;;;;;;;;kCAOf,8OAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,UAAU,gBAAgB;wBAC1B,WAAU;kCAET,gBAAgB,EAAE,IAAI,GAAG,mBAAmB;;;;;;;eAnBvC,EAAE,IAAI;;;;;;;;;;AAyBxB","debugId":null}}]
}